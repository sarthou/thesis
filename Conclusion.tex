\chapter*{Conclusion: represent, store, explore, communicate}
\addstarredchapter{Conclusion: represent, store, explore, communicate} %Sinon cela n'apparait pas dans la table des mati√®res
\markboth{Conclusion}{}

%\ifdefined\included
%\else
%\bibliographystyle{acm}
%\bibliography{These-refs}
%\end{document}
%\fi

In this thesis, we presented several contributions around the use of ontology as a way to represent knowledge for the robot as well as to represent an estimation of the robot's partners knowledge. An ontology is a knowledge graph with on top a formal and explicit specification of the shared meaning of the concepts used in it. In robotic, the use of such a formal and explicit representation provides a unification of the knowledge among an entire architecture. The knowledge is no more ubiquitous among the components, each owning the part it needs without a global consensus about who owned the truth (if any). Instead, the knowledge becomes a shared resource taking advantage of each component's inputs. This notion of shared knowledge is also important in multi-robot systems. Using an ontology allows all the robots to communicate using the same vocabulary. Consequently, it can facilitate their interaction, even if they do not rely on the same architecture.

Extending multi-robot applications, we reach multi-agent applications and consequently \acrfull{hri}. The knowledge an ontology represents is the knowledge of how we, as humans, perceive our environment and how we interpret it. For sure an ontology is machine-understandable but especially, at the base, human understandable, at the difference of neural networks for example. Thanks to all these characteristics and because it comes from the human, ontology can be suitable for a to represent an estimation of the human knowledge. In addition, trying to align it with the human knowledge, as robots can use the vocabulary it maintains to communicate, a robot could use it to communicate with a human, that it is to interpret a communication act or to produce one.

In Chapter~\ref{chap:2}, we presented Ontologenius, an open-source and lightweight software to maintain knowledge graphs using ontology. It aims to be the semantic memory of the robot. This software had been developed for \acrshort{hri} application with the ability to maintain several \acrlong{kb} at the time, one representing the robot's knowledge and the others being the estimation of the robot's partners knowledge. In addition, regarding the management of several instances at the time, Ontologenious comes with a deep-copy feature to catch the state of a \acrshort{kb} at a given moment, then to modify it freely. To represent several knowledge states of the same agent and to avoid the creation of too many instances that could slow down the CPU, with Ontologenius we propose a kind of versioning system, keeping a trace of the changes. Regarding knowledge retrieval, with Ontologenius we choose to provide a set of precise queries working at the semantic level but allowing the exploration of the structure of the knowledge rather than simply the relations between entities.

On the basis of Ontologenius, we have presented several contributions. In Chapter \ref{chap:3}, we proposed a way to describe the topology of indoor environments using an ontology. The resulting representation was called the \acrfull{ssr}. In the context of a route description task and using the \acrshort{ssr}, we presented a combination of two algorithms able to find several routes leading to a destination. Using the same representation, we presented a third algorithm to generate the route explanation, in the form of a sentence, by respecting the three good practices identified by Allen in~\cite{allen_2000_principles}. The way the explanation is generated allows the guided human to perform an imaginary tour of the environment, increasing the chances to reach the requested destination.

Continuing on the knowledge exploitation and more precisely on spatial communication, from Chapter \ref{chap:4} to Chapter \ref{chap:7}, we presented contributions around the \acrfull{reg} task. As explained in~\cite{reiter_2000_building}, it is the concern of ``how we produce a description of an entity that enables the hearer to identify that entity in a given context''. While this task has been studied for decades, none of the existing methods has attempted to use an ontology as \acrshort{kb}, working most of the time on \acrshort{kb} dedicated to the task. In addition, because their \acrshort{kb} are dedicated to the task, it is only composed of relations usable to communicate with a human. However, considering a shared \acrshort{kb} among the architecture, some knowledge can have a purely technical use for the robot. More importantly, none of the existing works really considered the notion of context. Their only goal was to designate an entity in a given state of an environment. However, in \acrshort{hri} use, the \acrshort{reg} is just an action of a wider task in which a context exists. It could be already known information about the entity to refer to or implicit restriction about the entities in concern. In Chapter \ref{chap:4}, we thus presented a new algorithm managing all the previously evoked issues and using an ontology as \acrshort{kb}. In addition, through comparisons with other algorithms, we showed that our contribution is, to the date, the most efficient, solving most of the problems in less than a millisecond. Finally, for usability proof, the algorithm has been integrated into a robotic architecture with a \acrshort{kb} continuously update through perception.

Taking advantage of the high performance of our \acrshort{reg} algorithm, in Chapter~\ref{chap:5}, we proposed a method integrating it with a task planner. The goal of this method was to endow the task planner with the ability to estimate the feasibility and the cost of communication. Such estimations thus allow to avoid deadlock at execution and to find plans minimizing the overall communication complexity. In this contribution, the communication was limited to the reference of entities but could be extended to others. The used task planner was \acrshort{hatp}, a human-aware task planner. This means that the planner is able to plan for the robot and its partner, estimating their future mental state and their abilities in order to assigned tasks to one or another. To estimate the future mental states, \acrshort{hatp} has a dedicated internal representation, limited to the entities used in the task to plan. However, to work, our \acrshort{reg} algorithm needs an ontology as \acrshort{kb} and need to take into account all the entities of the environment. To make it work, we have thus presented a scheme allowing the planner to update an ontology, representing the future estimated knowledge of the human partner, in order to be able to run the algorithm. This contribution fully takes advantage of the features brought by ontologenius, that is was the ability to maintain an instance per agent, and to copy an instance at a given moment to freely modify it. The resulting method was implemented into a robotic architecture as a proof of concept.

With the integration of the \acrshort{reg} algorithm with a task planner, we highlight the fact that the act to refer to an entity, appears most of the time in the context of a task. During this task, agents act with and manipulate the entities of the environment. On this basis, in Chapter \ref{chap:6}, we proposed to use this additional knowledge about the activities of the agents with the entities of the environment as a new piece of information, usable to refer to them. Continuing to use \acrshort{hatp} for task planner, we had first proposed a way to represent the task planning domain into an ontology, as well as the execution of this plan, that we called the \acrfull{het}. We had then presented modifications to our original \acrshort{reg} algorithm, allowing it to use the past activities representation to generate a new kind of \acrfull{re}.

Even if the adaptation of the \acrshort{reg} algorithm of Chapter \ref{chap:6} brings new possibilities, in Chapter \ref{chap:7} we shown that it had some limitations. The major one is the apriori knowledge it needs about the representation. It is thus restricted to a unique representation of past activities. However, we saw in the literature that many representations of activities exist, each created for particular applications. In Chapter \ref{chap:7}, we thus explored common ontology patterns used to represent such complex relations being in the form of n-ary relations. Adding to them a set of simple parametric patterns as labels, we created what we called \acrfull{cr}. With this new type of relation, we had adapted our original \acrshort{reg} algorithm to provide a more generic way to generate \acrshort{re}. The resulting algorithm had been shown to still work with a description of past activities but also any representation using n-ary relation. In addition, we have shown that the performances of the new algorithm are better than the algorithm of Chapter \ref{chap:6} and equal to the ones of the original algorithm when no \acrshort{cr} is used in the representation.

Through the chapters \ref{chap:8} to \ref{chap:9}, we presented two robotic architectures involving the contributions presented all along this thesis. In Chapter \ref{chap:8}, we presented the \acrfull{mummer} project and the resulting architecture. The goal of the \acrshort{mummer} project was to develop a robotic architecture allowing a robot to guide a customer in a mall and to chat with them. By guiding, we do not mean accompanying the customer but rather to explain the route to follow to the customer. To be able to find the route to explain and generate the explanation sentence, we used the contribution of Chapter \ref{chap:3}. To maintain the representation of the environment and share it with other components, we used Ontologenius, presented in Chapter \ref{chap:2}. The resulting architecture, embodied in a pepper, has run for 14 weeks in a mall in Finland.

Finally, in Chapter \ref{chap:9}, we presented an integration of the \acrshort{reg} algorithm into a complete robotic architecture dedicated to \acrshort{hri} applications. In addition, with this new architecture, we showed how we had put the knowledge at the center of the architecture, used by all the components. Moreover, in this chapter we introduced a new task, inspired by psychology experiments, to assess cognitive architecture for \acrshort{hri}. Taking this task as a basis and with regard to the implemented architecture, we ended this chapter with a set of challenges we think to be interesting for the community.

\section*{Future work}

To end this thesis, we introduce some potential future work, focussing on two main topics studies during these three years: the knowledge need for \acrshort{hri} and the \acrshort{reg}.

\subsection*{Knowledge need for HRI}

In the introduction of this thesis, we saw the main memory system that we estimate a human to own. In this thesis we focus on semantic memory, to endow the robot about with the mean of its environment. Where the procedural memory could be assimilated as the task planning domain, we do not go into the episodic memory, representing the past experiences. Even if we start drawing some of its aspects through the description of past activities, we did not study it in depth. The ability of remembering is however a key aspect for the \acrshort{hri}. It allows a robot to speak about it as story-telling, as we saw to refer to entities, to learn acting policies, or to learn others preferences. One of the actual more advanced systems managing such knowledge is today the openEASE system~\cite{beetz_2015_open}. However, how could it be extended to \acrshort{hri} application? How could we represent the estimate the other's experiences? How should we make the difference between a real experience and a past situations others tell us they have experienced?

Finally, for me, the more complex and still open question, would be how to make a clear distinction between the semantic system and the episodic one? However, asking this question, leads to another being: do we need a clear distinction? On one hand, they are two different types of knowledge but on the other hand, one is nothing without the other. We need meaning to understand the memories (in the sense of past experiences) meaning that we need a link between them. Wanting to create two distinct systems, in my opinion, we arrive at two solutions, not seeming to be suitable to me. First, we could keep in the semantic system a trace of the experiences with their meaning (e.g. \textit{cut\_7} is a cutting action) while the episodic system would only temporally order them (e.g. \textit{cut\_7} holds between t1 and t2). The second solution would be to do not keep any trace of the experience in the semantic system but would require to keep a part of the meaning in the episodic one (e.g. \textit{cut\_7}, being a cutting action, holds between t1 and t2).

\subsection*{Referring Expression Generation}

In the last year of this thesis, we gain an interest toward the \acrfull{reg} problem. This problem is interesting as it requires a rich representation of an environment, a fine exploration of it, the verbal communication of the inherent knowledge, the consideration of the problem into a task, and the consideration of the partner. Even if we proposed four contributions around this topic, we think that number of challenges could be investigated. In the continuation of our works, we could first use the \acrshort{reg} algorithm based on past activities at task planning as we did for the original version. In this way, the robot could plan communication-based on future past activities.

A second study track will be about spatial relations like left and right. During this thesis, we tried to void such relations, even if our algorithm could manage them. The reason is that such relations depends on the perspective and thus on the reference frame, meaning the frame in which the relations are computed. For example, we could say ``the pen at your left'' where the reference frame is the hearer. We could also say ``my car is the one at the left of the red car'' where the reference frame is the red car. However, saying ``look the squirrel at the right of the tree'' is more tricky. At the difference of a car, a tree does not have any orientation. You and the hearer being at the same place and having the same perspective, this sentence does not lead to any ambiguity as you and the hearer could be the reference frame. However, if you are one on each side of the tree, the used reference frame is unclear, and the resulting \acrshort{re} is ambiguous. With these examples, we see that both the perspective and the characteristics of the involved entities have to be used. Some works start to study it~\cite{kelleher_2006_incremental, dos_2015_generating}. However, they are mainly based on \acrlong{ia} which is not adapted and the used of an ontology could help at generalizing the process.

Finally, another interesting study track would be the reference to sets. An approach supporting this feature would support two new kinds of \acrshort{re}. First, we could say ``give me the nails that are in the red bin'' or ``give me the red pens'' where we ask for a set of entities. Nevertheless, we saw that the \acrshort{reg} is a kind of recursive process in the way that to refer to a given entity we can need to generate a \acrshort{re} to another entity. With \acrshort{re} supporting references to sets, we could thus generate sentences like ``give me the bottle which is next to the sheets of paper''. Here the target entity is not a set but it owns relation toward a set. Where the few existing methods own the set representation into the \acrlong{kb} in a static way~\cite{fang_2013_towards}, it would be more interesting to compute them dynamically depending on the current situation and the target entity. An algorithm and the underlying knowledge representation to support such a feature could be highly challenging, and even more if we managed to consider spatial references at the same time.